# 如何将预览部署提升为生产部署

## 🔍 问题分析

你看到的 URL：`https://aio-2-dg4zsf27m-bupoos-projects.vercel.app`

这是**预览部署**（Preview Deployment），因为：
- URL 包含哈希值 `dg4zsf27m`
- 这是预览部署的特征

**生产部署**的 URL 应该是：
- `https://aio-2.vercel.app`（不带哈希值）
- 或者你配置的自定义域名

## 🚀 解决方案

### 方法 1：在 Vercel 控制台手动提升（最快）

1. **登录 Vercel 控制台**
   - 访问 https://vercel.com/
   - 登录你的账号

2. **进入项目**
   - 找到 **AIO2** 项目
   - 点击进入项目详情

3. **查看部署列表**
   - 点击 **Deployments** 标签
   - 找到最新的部署（10 分钟前）

4. **提升为生产部署**
   - 点击部署右侧的 **"..."** 菜单（三个点）
   - 选择 **"Promote to Production"**（提升为生产）
   - 确认操作

5. **验证**
   - 部署提升后，访问 `https://aio-2.vercel.app`
   - 应该能看到你的网站了

### 方法 2：检查并配置生产分支

如果方法 1 不行，检查生产分支设置：

1. **进入项目设置**
   - Vercel 控制台 → AIO2 项目
   - 点击 **Settings** → **Git**

2. **检查 Production Branch**
   - 找到 **Production Branch** 设置
   - 确保设置为 `master`（或 `main`）
   - 如果不是，改为 `master` 并保存

3. **重新推送**
   ```bash
   cd /Users/bupoo/Github/AIO2
   git push origin master
   ```

### 方法 3：使用 Vercel CLI 提升

如果你安装了 Vercel CLI：

```bash
# 安装 Vercel CLI（如果还没安装）
npm i -g vercel

# 登录
vercel login

# 进入项目目录
cd /Users/bupoo/Github/AIO2

# 提升最新部署为生产
vercel promote
```

## 📋 检查清单

在 Vercel 控制台检查：

- [ ] **Production Branch** 设置为 `master`
- [ ] 最新部署是否标记为 **Production**
- [ ] 是否有生产部署 URL（不带哈希值）

## 🔍 如何区分预览和生产部署

### 预览部署（Preview）
- URL 格式：`https://aio-2-{hash}-bupoos-projects.vercel.app`
- 包含哈希值
- 每次推送都会创建新的预览 URL

### 生产部署（Production）
- URL 格式：`https://aio-2.vercel.app`
- 不带哈希值
- 固定 URL，只有推送到生产分支才会更新

## 🎯 推荐操作步骤

1. **立即操作**：使用方法 1 手动提升为生产
2. **检查设置**：确认 Production Branch = `master`
3. **验证访问**：访问 `https://aio-2.vercel.app`

## ⚠️ 常见问题

### Q: 为什么推送到 master 还是预览部署？
A: 可能的原因：
- Production Branch 设置不是 `master`
- Vercel 还没有识别到推送
- 需要手动提升一次

### Q: 提升后还是预览 URL？
A: 检查：
- 是否真的提升成功了（查看部署状态）
- 生产 URL 是否正确（在 Settings → Domains 查看）

### Q: 如何设置默认生产分支？
A: 
1. Settings → Git → Production Branch
2. 选择 `master` 或 `main`
3. 保存

## 📝 总结

**最快的方法**：在 Vercel 控制台手动提升部署为生产。

提升后，你的生产 URL 就是：
- `https://aio-2.vercel.app`

然后记得更新环境变量 `FRONTEND_URL` 为这个生产 URL！


