# 🚀 项目启动说明

## ✅ 已完成的操作

1. ✅ **环境变量配置**
   - 已复制 `env.example` 到 `backend/.env`
   - 已生成并配置安全的 JWT_SECRET

2. ✅ **依赖安装**
   - 后端依赖已安装完成（144 个包）

3. ✅ **服务启动**
   - MongoDB 正在运行
   - 后端服务已启动（端口 3000）
   - 前端服务已启动（端口 3001）

## 📍 访问地址

- **前端页面**: http://localhost:3001
- **后端 API**: http://localhost:3000
- **健康检查**: http://localhost:3000/health

## 🎯 使用步骤

### 1. 首次使用

**方式一：使用预设管理员账号（推荐）**

1. 打开浏览器访问: http://localhost:3001
2. 使用预设管理员账号登录：
   - 用户名: `admin`
   - 密码: `123456`
3. 登录成功后即可看到"管理后台"按钮
4. ⚠️ **重要**: 首次登录后请立即修改密码！

**方式二：注册新账号**

1. 打开浏览器访问: http://localhost:3001
2. 点击"注册"标签，创建新账号
   - 用户名：至少3个字符
   - 邮箱：有效邮箱地址
   - 密码：至少6个字符
3. 注册成功后自动登录，进入主界面
4. 如需设置为管理员，参考"管理员权限说明.md"

### 2. 添加工具（管理员）

1. 使用管理员账号登录（用户名: `admin`，密码: `123456`）
2. 点击右上角"管理后台"按钮
3. 点击"+ 添加工具"按钮
4. 填写工具信息：
   - **工具名称**：工具显示的名称
   - **分类**：工具所属分类（如：数据分析、工具转换等）
   - **GitHub 链接**：工具的 HTML 页面 URL（如：`https://username.github.io/tool-name/` 或 `https://raw.githubusercontent.com/username/repo/main/index.html`）
   - **图标**：可选，默认 🔧（可以使用 emoji）
   - **版本号**：工具版本（如：1.0.0）
   - **描述**：工具的功能描述
   - **访问权限**：
     - 所有用户：普通用户和管理员都可以访问
     - 仅管理员：只有管理员可以访问
5. 点击"保存"完成添加

### 3. 使用工具

1. 在主界面浏览工具卡片
2. 使用左侧分类导航筛选
3. 使用顶部搜索框搜索工具
4. 点击工具卡片打开工具（从 GitHub 加载）

## 🛠️ 后续启动方式

### 方式一：使用启动脚本（推荐）

```bash
cd /Users/bupoo/Github/AIO2
./start.sh
```

### 方式二：手动启动

**启动后端：**
```bash
cd /Users/bupoo/Github/AIO2/backend
npm start
```

**启动前端（新终端窗口）：**
```bash
cd /Users/bupoo/Github/AIO2/frontend
python3 -m http.server 3001
```

### 方式三：使用开发模式（需要 nodemon）

**安装 nodemon（如果未安装）：**
```bash
cd /Users/bupoo/Github/AIO2/backend
npm install -g nodemon
# 或
npm install --save-dev nodemon
```

**启动开发模式：**
```bash
cd /Users/bupoo/Github/AIO2/backend
npm run dev
```

## ⚙️ 环境变量配置

环境变量文件位于：`backend/.env`

当前配置：
- **MongoDB URI**: `mongodb://localhost:27017/jeyi-toolhub`
- **JWT_SECRET**: 已自动生成安全密钥
- **端口**: 3000
- **前端地址**: http://localhost:3001

如需修改，请编辑 `backend/.env` 文件。

## 🔍 检查服务状态

**检查后端服务：**
```bash
curl http://localhost:3000/health
```

**检查 MongoDB：**
```bash
pgrep -x mongod
```

## 🐛 常见问题

### 1. MongoDB 未运行
```bash
# 启动 MongoDB（macOS）
brew services start mongodb-community

# 或直接运行
mongod
```

### 2. 端口被占用
- 后端端口 3000 被占用：修改 `backend/.env` 中的 `PORT`
- 前端端口 3001 被占用：使用其他端口，如 `python3 -m http.server 3002`

### 3. 依赖安装失败
```bash
cd /Users/bupoo/Github/AIO2/backend
rm -rf node_modules package-lock.json
npm install
```

### 4. 数据库连接失败
- 检查 MongoDB 是否运行
- 检查 `backend/.env` 中的 `MONGODB_URI` 是否正确

## 📝 下一步

1. ✅ 访问 http://localhost:3001
2. ✅ 使用预设管理员账号登录（用户名: `admin`，密码: `123456`）
3. ✅ 首次登录后立即修改密码
4. ✅ 在管理后台添加工具
5. ✅ 测试工具加载功能

祝使用愉快！🎉

